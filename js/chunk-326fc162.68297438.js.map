{"version":3,"sources":["webpack:///./src/pages/PainterSetting.vue?32f8","webpack:///./src/pages/PainterSetting.vue","webpack:///./src/pages/PainterSetting.vue?23d3"],"names":["store","useStore","editing","ref","painter","reactive","email","name","description","tags","works","avator","onMounted","async","dispatch","p","getters","painterInfo","opctionTags","computed","tagsOpctions","map","tag","checked","find","t","id","updateData","key","data","updateWorks","save","filter","work","isEnable","length","value","__exports__"],"mappings":"yIAAA,W,sYC2DA,MAAMA,EAAQC,iBAERC,EAAUC,gBAAI,GACdC,EAAUC,eAAS,CACvBC,MAAO,GACPC,KAAM,GACNC,YAAa,GACbC,KAAM,GACNC,MAAO,CAAC,GAAI,GAAI,IAChBC,OAAQ,KAGVC,eAAUC,gBACFb,EAAMc,SAAS,eAErB,MAAMC,QAAU,IAAKf,EAAMgB,QAAQC,gBACnCb,EAAQE,MAAQS,EAAET,MAClBF,EAAQG,KAAOQ,EAAER,KACjBH,EAAQI,YAAcO,EAAEP,YACxBJ,EAAQK,KAAOM,EAAEN,KACjBL,EAAQM,MAAQK,EAAEL,MAClBN,EAAQO,OAASI,EAAEJ,SAGrB,MAAMO,EAAcC,eAAS,IACpB,IAAInB,EAAMgB,QAAQI,cAAcC,IAAKC,IAAQ,MAClD,MAAO,IAAKA,EAAKC,UAAqB,QAAZ,EAAAnB,EAAQK,YAAI,QAAZ,EAAce,KAAMC,GAAMA,IAAMH,EAAII,SAI5DC,EAAa,CAACC,EAAKC,KACvBzB,EAAQwB,GAAOC,GAEXC,EAAc,CAACF,EAAKC,KACxBzB,EAAQM,MAAMkB,GAAOC,GAEjBE,EAAO,KAAM,QACjB3B,EAAQM,MAAqB,QAAhB,EAAGN,EAAQM,aAAK,aAAb,EAAesB,OAAQC,GAASA,GAChD,MAAMlB,EAAI,IACLX,EACHM,MAAoB,QAAf,EAAEN,EAAQM,aAAK,aAAb,EAAesB,OAAQC,GAASA,GACvCC,YACE9B,EAAQO,QAAUP,EAAQI,aAAeJ,EAAQG,MAAQH,EAAQK,KAAK0B,QAAU/B,EAAQM,MAAMyB,SAIlG/B,EAAQE,MAAQS,EAAET,MAClBF,EAAQG,KAAOQ,EAAER,KACjBH,EAAQI,YAAcO,EAAEP,YACxBJ,EAAQK,KAAOM,EAAEN,KACjBL,EAAQM,MAAQK,EAAEL,MAClBN,EAAQO,OAASI,EAAEJ,OACnBX,EAAMc,SAAS,oBAAqBV,GACpCF,EAAQkC,OAAQ,G,utFC1GlB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD","file":"js/chunk-326fc162.68297438.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./PainterSetting.vue?vue&type=style&index=0&id=7b8a5780&scoped=true&lang=css\"","<template>\n  <section>\n    <BaseCard>\n      <form @submit.prevent=\"save()\">\n        <div class=\"buttons\">\n          <BaseButton v-if=\"!editing\" @click=\"editing = true\">編輯</BaseButton>\n          <BaseButton v-if=\"editing\" @click=\"editing = false\">取消</BaseButton>\n          <BaseButton v-if=\"editing\" @click=\"save()\">儲存</BaseButton>\n        </div>\n        <div class=\"avator\">\n          <div class=\"avatorPic\">\n            <img :src=\"painter.avator\" alt=\"\" />\n          </div>\n          <BaseInput v-if=\"editing\" v-model=\"painter.avator\" @onInput=\"updateData('avator', $event)\"></BaseInput>\n        </div>\n        <div class=\"intro\">\n          <BaseInput\n            label=\"暱稱：\"\n            v-model=\"painter.name\"\n            :readonly=\"!editing\"\n            @onInput=\"updateData('name', $event)\"\n          ></BaseInput>\n          <BaseTextarea\n            label=\"自我介紹：\"\n            row=\"5\"\n            v-model=\"painter.description\"\n            :readonly=\"!editing\"\n            @onInput=\"updateData('description', $event)\"\n          ></BaseTextarea>\n        </div>\n        <div class=\"intro2\">\n          <BaseChipGroup\n            label=\"領域標籤：\"\n            v-model=\"opctionTags\"\n            :readonly=\"!editing\"\n            @onInput=\"updateData('tags', $event)\"\n          >\n            {{ tag.value }}\n          </BaseChipGroup>\n          <div class=\"artWorks\">\n            <label for=\"\">Sample work：</label>\n            <div v-if=\"editing\">\n              <BaseInput v-model=\"painter.works[0]\" @onInput=\"updateWorks(0, $event)\"></BaseInput>\n              <BaseInput v-model=\"painter.works[1]\" @onInput=\"updateWorks(1, $event)\"></BaseInput>\n              <BaseInput v-model=\"painter.works[2]\" @onInput=\"updateWorks(2, $event)\"></BaseInput>\n            </div>\n            <div @click=\"updateData('avator', $event)\">\n              <img v-for=\"pic in painter.works\" :key=\"pic\" :src=\"pic\" />\n            </div>\n          </div>\n        </div>\n      </form>\n    </BaseCard>\n  </section>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nconst store = useStore();\n\nconst editing = ref(false);\nconst painter = reactive({\n  email: \"\",\n  name: \"\",\n  description: \"\",\n  tags: [],\n  works: [\"\", \"\", \"\"],\n  avator: \"\",\n});\n\nonMounted(async () => {\n  await store.dispatch(\"getPainters\");\n\n  const p = await { ...store.getters.painterInfo() };\n  painter.email = p.email;\n  painter.name = p.name;\n  painter.description = p.description;\n  painter.tags = p.tags;\n  painter.works = p.works;\n  painter.avator = p.avator;\n});\n\nconst opctionTags = computed(() => {\n  return [...store.getters.tagsOpctions].map((tag) => {\n    return { ...tag, checked: painter.tags?.find((t) => t === tag.id) ? true : false };\n  });\n});\n\nconst updateData = (key, data) => {\n  painter[key] = data;\n};\nconst updateWorks = (key, data) => {\n  painter.works[key] = data;\n};\nconst save = () => {\n  painter.works = painter.works?.filter((work) => work);\n  const p = {\n    ...painter,\n    works: painter.works?.filter((work) => work),\n    isEnable:\n      painter.avator && painter.description && painter.name && painter.tags.length && painter.works.length\n        ? true\n        : false,\n  };\n  painter.email = p.email;\n  painter.name = p.name;\n  painter.description = p.description;\n  painter.tags = p.tags;\n  painter.works = p.works;\n  painter.avator = p.avator;\n  store.dispatch(\"updatePainterInfo\", painter);\n  editing.value = false;\n};\n</script>\n\n<style scoped>\nsection {\n  margin: 0 auto;\n}\nsection.commission {\n  margin-top: 2rem;\n}\nsection form {\n  display: flex;\n  flex-wrap: wrap;\n}\n.avator {\n  position: relative;\n  margin-right: 1rem;\n  width: 150px;\n}\n.avatorPic {\n  position: relative;\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  border-radius: 50%;\n  margin-right: -50px;\n  border: 5px solid #fff;\n  box-shadow: inset 0 1px 5px 0 #ddd;\n}\n.avator .avatorPic img {\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  transition: 0.3s;\n}\n.avator :deep(input) {\n  width: 100%;\n}\n.intro {\n  width: calc(100% - 150px - 1rem);\n}\nsection :deep(textarea) {\n  width: 100%;\n}\n:deep(label) {\n  display: block;\n}\nsection form > .buttons {\n  position: absolute;\n  top: 0.5rem;\n  right: 0.5rem;\n}\n.artWorks div {\n  width: 100%;\n}\n.artWorks :deep(input) {\n  width: 100%;\n}\n.artWorks img {\n  padding: 1rem;\n  width: calc(100% / 3);\n}\n\n@media screen and (max-width: 500px) {\n  section form {\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n  .intro {\n    width: 100%;\n  }\n  .intro2 {\n    width: 100%;\n  }\n}\n</style>\n","import script from \"./PainterSetting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PainterSetting.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PainterSetting.vue?vue&type=style&index=0&id=7b8a5780&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/2200290/Documents/systex/Learn/Learn-Vue/pratice/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7b8a5780\"]])\n\nexport default __exports__"],"sourceRoot":""}