(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f7f4938"],{"0014":function(a,e,t){"use strict";t("ffd2")},"56b4":function(a,e,t){"use strict";t.r(e);var i=t("7a23");const s=a=>(Object(i["A"])("data-v-5a7a416e"),a=a(),Object(i["y"])(),a),l=s(()=>Object(i["i"])("span",{id:"register-text"},"SIGNUP",-1)),d=s(()=>Object(i["i"])("span",{id:"login-text"},"LOGIN",-1));function n(a,e,t,s,n,o){const r=Object(i["F"])("SignUpForm"),c=Object(i["F"])("LoginForm");return Object(i["x"])(),Object(i["h"])("div",{class:Object(i["s"])(["main",{modeIsRegister:"signUp"===n.isRegister}])},[Object(i["i"])("section",{class:Object(i["s"])({select:"signUp"===n.isRegister}),onClick:e[0]||(e[0]=(...a)=>o.signUp&&o.signUp(...a))},[l,Object(i["k"])(r,{id:"register-form"})],2),Object(i["i"])("section",{class:Object(i["s"])({select:"login"===n.isRegister}),onClick:e[1]||(e[1]=(...a)=>o.login&&o.login(...a))},[d,Object(i["k"])(c,{id:"login-form"})],2)],2)}const o=a=>(Object(i["A"])("data-v-ad3387c4"),a=a(),Object(i["y"])(),a),r=o(()=>Object(i["i"])("h2",null,"- 登入 -",-1)),c={class:"input"},p={class:"error-msg"};function u(a,e,t,s,l,d){const n=Object(i["F"])("BaseInput"),o=Object(i["F"])("BaseButton"),u=Object(i["F"])("BaseCard");return Object(i["x"])(),Object(i["f"])(u,null,{default:Object(i["N"])(()=>[Object(i["i"])("form",{onSubmit:e[4]||(e[4]=Object(i["P"])(a=>d.login(),["prevent"]))},[r,Object(i["i"])("div",c,[Object(i["k"])(n,{label:"帳號：",placeholder:"電子信箱",type:"email",modelValue:l.data.email,"onUpdate:modelValue":e[0]||(e[0]=a=>l.data.email=a),inputError:l.valid.email,onOnInput:e[1]||(e[1]=a=>d.updateData("email",a))},null,8,["modelValue","inputError"]),Object(i["k"])(n,{label:"密碼：",type:"password",modelValue:l.data.paw,"onUpdate:modelValue":e[2]||(e[2]=a=>l.data.paw=a),inputError:l.valid.paw,onOnInput:e[3]||(e[3]=a=>d.updateData("paw",a))},null,8,["modelValue","inputError"])]),Object(i["k"])(o,{disable:l.loading||!(l.data.email&&l.data.paw)},{default:Object(i["N"])(()=>[Object(i["j"])("登入")]),_:1},8,["disable"]),Object(i["i"])("p",p,Object(i["I"])(l.valid.msg),1)],32)]),_:1})}t("14d9");var m={data(){return{loading:!1,data:{email:"",paw:""},valid:{msg:"",email:!1,paw:!1}}},methods:{updateData(a,e){this.data[a]=e},async login(){const a=await this.$store.dispatch("login",this.data);200===a.code?this.$router.push("/"):(3001===a.code&&(this.valid.email=!0),3002===a.code&&(this.valid.paw=!0),this.valid.msg=a.message)}}},b=(t("e376"),t("6b0d")),O=t.n(b);const h=O()(m,[["render",u],["__scopeId","data-v-ad3387c4"]]);var j=h;const g=a=>(Object(i["A"])("data-v-7704e621"),a=a(),Object(i["y"])(),a),v=g(()=>Object(i["i"])("h2",null,"- 註冊為繪師 -",-1)),w={class:"input"},f={class:"error-msg"};function U(a,e,t,s,l,d){const n=Object(i["F"])("BaseInput"),o=Object(i["F"])("BaseButton"),r=Object(i["F"])("BaseCard");return Object(i["x"])(),Object(i["f"])(r,null,{default:Object(i["N"])(()=>[Object(i["i"])("form",{onSubmit:e[6]||(e[6]=Object(i["P"])(a=>d.signUp(),["prevent"]))},[v,Object(i["i"])("div",w,[Object(i["k"])(n,{label:"  帳號：",placeholder:"電子信箱",type:"email",modelValue:l.data.email,"onUpdate:modelValue":e[0]||(e[0]=a=>l.data.email=a),modelModifiers:{trim:!0},inputError:l.valid.email,onOnInput:e[1]||(e[1]=a=>d.updateData("email",a))},null,8,["modelValue","inputError"]),Object(i["k"])(n,{label:"  密碼：",placeholder:"至少六位英數字",type:"password",modelValue:l.paw1,"onUpdate:modelValue":e[2]||(e[2]=a=>l.paw1=a),modelModifiers:{trim:!0},inputError:l.valid.paw,onOnInput:e[3]||(e[3]=a=>d.pawCheck("paw1",a))},null,8,["modelValue","inputError"]),Object(i["k"])(n,{label:"確認密碼：",type:"password",modelValue:l.paw2,"onUpdate:modelValue":e[4]||(e[4]=a=>l.paw2=a),modelModifiers:{trim:!0},inputError:l.valid.paw,onOnInput:e[5]||(e[5]=a=>d.pawCheck("paw2",a))},null,8,["modelValue","inputError"])]),Object(i["k"])(o,{disable:l.loading||!(l.data.email&&l.paw1&&l.paw2)},{default:Object(i["N"])(()=>[Object(i["j"])("註冊")]),_:1},8,["disable"]),Object(i["i"])("p",f,Object(i["I"])(l.valid.msg),1)],32)]),_:1})}var I={data(){return{loading:!1,data:{email:"",paw:""},paw1:"",paw2:"",valid:{msg:"",email:!1,paw:!1}}},methods:{updateData(a,e){this.data[a]=e},async signUp(){if(this.loading=!0,this.valid.email=!1,this.valid.paw=!1,this.valid.msg="",this.data.email||(this.valid.email=!0,this.valid.msg+="請填寫信箱\n"),this.data.paw||(this.valid.paw=!0,this.valid.msg+="密碼驗證錯誤\n"),!this.valid.msg){const a=await this.$store.dispatch("signUp",this.data);200===a.code?this.$router.push({name:"SETTING"}):(3001===a.code&&(this.valid.email=!0),3002===a.code&&(this.valid.paw=!0),this.valid.msg=a.message)}this.loading=!1,this.updateData("paw",null)},pawCheck(a,e){this[a]=e,this.paw1===this.paw2?this.updateData("paw",e):this.updateData("paw",null)}}};t("0014");const k=O()(I,[["render",U],["__scopeId","data-v-7704e621"]]);var E=k,V={components:{LoginForm:j,SignUpForm:E},props:["mode"],data(){var a;return{isRegister:null!==(a=this.mode)&&void 0!==a?a:"signUp"}},methods:{login(){this.$router.replace({name:"REGISTER",params:{mode:"login"}})},signUp(){this.$router.replace({name:"REGISTER",params:{mode:"signUp"}})}},mounted(){var a;this.isRegister=null!==(a=this.$route.params.mode)&&void 0!==a?a:"signUp"},updated(){var a;this.isRegister=null!==(a=this.$route.params.mode)&&void 0!==a?a:"signUp"}};t("d565");const F=O()(V,[["render",n],["__scopeId","data-v-5a7a416e"]]);e["default"]=F},8194:function(a,e,t){},d565:function(a,e,t){"use strict";t("e40a")},e376:function(a,e,t){"use strict";t("8194")},e40a:function(a,e,t){},ffd2:function(a,e,t){}}]);
//# sourceMappingURL=chunk-6f7f4938.1d8043c5.js.map